{"version":3,"file":"env.js","sourceRoot":"","sources":["../../../lib/util/exec/env.ts"],"names":[],"mappings":";;;AAAA,MAAM,YAAY,GAAG;IACnB,YAAY;IACZ,aAAa;IACb,UAAU;IACV,MAAM;IACN,MAAM;IACN,QAAQ;IACR,MAAM;IACN,aAAa;CACd,CAAC;AAEF,SAAgB,kBAAkB,CAChC,gBAA0B,EAAE;IAE5B,MAAM,GAAG,GAAsB,EAAE,CAAC;IAClC,IAAI,MAAM,CAAC,UAAU,KAAK,MAAM,EAAE;QAChC,OAAO,MAAM,CAAC,MAAM,CAAC,GAAG,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC;KACxC;IACD,MAAM,OAAO,GAAG,CAAC,GAAG,YAAY,EAAE,GAAG,aAAa,CAAC,CAAC;IACpD,OAAO,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE,EAAE;QACzB,IAAI,OAAO,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,WAAW,EAAE;YAC9C,GAAG,CAAC,MAAM,CAAC,GAAG,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;SACnC;IACH,CAAC,CAAC,CAAC;IACH,OAAO,GAAG,CAAC;AACb,CAAC;AAdD,gDAcC","sourcesContent":["const basicEnvVars = [\n  'HTTP_PROXY',\n  'HTTPS_PROXY',\n  'NO_PROXY',\n  'HOME',\n  'PATH',\n  'LC_ALL',\n  'LANG',\n  'DOCKER_HOST',\n];\n\nexport function getChildProcessEnv(\n  customEnvVars: string[] = []\n): NodeJS.ProcessEnv {\n  const env: NodeJS.ProcessEnv = {};\n  if (global.trustLevel === 'high') {\n    return Object.assign(env, process.env);\n  }\n  const envVars = [...basicEnvVars, ...customEnvVars];\n  envVars.forEach((envVar) => {\n    if (typeof process.env[envVar] !== 'undefined') {\n      env[envVar] = process.env[envVar];\n    }\n  });\n  return env;\n}\n"]}