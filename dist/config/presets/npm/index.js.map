{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../lib/config/presets/npm/index.ts"],"names":[],"mappings":";;;AAAA,qDAA4D;AAC5D,4CAAyC;AAGlC,KAAK,UAAU,SAAS,CAAC,EAC9B,WAAW,EAAE,OAAO,EACpB,UAAU,GAAG,SAAS,GACT;IACb,MAAM,GAAG,GAAG,MAAM,mBAAa,CAAC,OAAO,CAAC,CAAC;IACzC,IAAI,CAAC,GAAG,EAAE;QACR,MAAM,IAAI,KAAK,CAAC,eAAe,CAAC,CAAC;KAClC;IACD,IAAI,CAAC,GAAG,CAAC,iBAAiB,CAAC,EAAE;QAC3B,MAAM,IAAI,KAAK,CAAC,kCAAkC,CAAC,CAAC;KACrD;IACD,MAAM,YAAY,GAAG,GAAG,CAAC,iBAAiB,CAAC,CAAC,UAAU,CAAC,CAAC;IACxD,IAAI,CAAC,YAAY,EAAE;QACjB,MAAM,WAAW,GAAG,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC,CAAC;QACxD,eAAM,CAAC,KAAK,CACV,EAAE,WAAW,EAAE,UAAU,EAAE,EAC3B,yCAAyC,CAC1C,CAAC;QACF,MAAM,IAAI,KAAK,CAAC,kBAAkB,CAAC,CAAC;KACrC;IACD,OAAO,YAAY,CAAC;AACtB,CAAC;AArBD,8BAqBC","sourcesContent":["import { getDependency } from '../../../datasource/npm/get';\nimport { logger } from '../../../logger';\nimport { Preset, PresetConfig } from '../common';\n\nexport async function getPreset({\n  packageName: pkgName,\n  presetName = 'default',\n}: PresetConfig): Promise<Preset> {\n  const dep = await getDependency(pkgName);\n  if (!dep) {\n    throw new Error('dep not found');\n  }\n  if (!dep['renovate-config']) {\n    throw new Error('preset renovate-config not found');\n  }\n  const presetConfig = dep['renovate-config'][presetName];\n  if (!presetConfig) {\n    const presetNames = Object.keys(dep['renovate-config']);\n    logger.debug(\n      { presetNames, presetName },\n      'Preset not found within renovate-config'\n    );\n    throw new Error('preset not found');\n  }\n  return presetConfig;\n}\n"]}