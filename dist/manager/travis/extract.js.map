{"version":3,"file":"extract.js","sourceRoot":"","sources":["../../../lib/manager/travis/extract.ts"],"names":[],"mappings":";;;;;;AAAA,0DAAkC;AAClC,sDAA2B;AAC3B,yCAAsC;AAGtC,SAAgB,kBAAkB,CAAC,OAAe;IAChD,IAAI,GAAG,CAAC;IACR,IAAI;QACF,GAAG,GAAG,iBAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;KAC9C;IAAC,OAAO,GAAG,EAAE;QACZ,eAAM,CAAC,IAAI,CAAC,EAAE,GAAG,EAAE,OAAO,EAAE,EAAE,mCAAmC,CAAC,CAAC;QACnE,OAAO,IAAI,CAAC;KACb;IACD,IAAI,IAAI,GAAwB,EAAE,CAAC;IACnC,IAAI,GAAG,IAAI,YAAE,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE;QAChC,IAAI,GAAG;YACL;gBACE,OAAO,EAAE,MAAM;gBACf,YAAY,EAAE,GAAG,CAAC,OAAO;aAC1B;SACF,CAAC;KACH;IACD,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;QAChB,OAAO,IAAI,CAAC;KACb;IACD,OAAO,EAAE,IAAI,EAAE,CAAC;AAClB,CAAC;AArBD,gDAqBC","sourcesContent":["import is from '@sindresorhus/is';\nimport yaml from 'js-yaml';\nimport { logger } from '../../logger';\nimport { PackageDependency, PackageFile } from '../common';\n\nexport function extractPackageFile(content: string): PackageFile | null {\n  let doc;\n  try {\n    doc = yaml.safeLoad(content, { json: true });\n  } catch (err) {\n    logger.warn({ err, content }, 'Failed to parse .travis.yml file.');\n    return null;\n  }\n  let deps: PackageDependency[] = [];\n  if (doc && is.array(doc.node_js)) {\n    deps = [\n      {\n        depName: 'node',\n        currentValue: doc.node_js,\n      },\n    ];\n  }\n  if (!deps.length) {\n    return null;\n  }\n  return { deps };\n}\n"]}