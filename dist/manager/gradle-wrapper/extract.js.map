{"version":3,"file":"extract.js","sourceRoot":"","sources":["../../../lib/manager/gradle-wrapper/extract.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA,yFAA2E;AAC3E,yCAAsC;AACtC,0EAA4D;AAG5D,MAAM,sBAAsB,GAAG,0FAA0F,CAAC;AAE1H,SAAgB,kBAAkB,CAAC,WAAmB;IACpD,eAAM,CAAC,KAAK,CAAC,qCAAqC,CAAC,CAAC;IACpD,MAAM,KAAK,GAAG,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;IAEtC,KAAK,MAAM,IAAI,IAAI,KAAK,EAAE;QACxB,MAAM,oBAAoB,GAAG,sBAAsB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC/D,IAAI,oBAAoB,EAAE;YACxB,MAAM,UAAU,GAAsB;gBACpC,OAAO,EAAE,QAAQ;gBACjB,YAAY,EAAE,oBAAoB,CAAC,MAAM,CAAC,OAAO;gBACjD,UAAU,EAAE,uBAAuB,CAAC,EAAE;gBACtC,UAAU,EAAE,gBAAgB,CAAC,EAAE;aAChC,CAAC;YACF,eAAM,CAAC,KAAK,CAAC,UAAU,EAAE,gBAAgB,CAAC,CAAC;YAC3C,OAAO,EAAE,IAAI,EAAE,CAAC,UAAU,CAAC,EAAE,CAAC;SAC/B;KACF;IACD,OAAO,IAAI,CAAC;AACd,CAAC;AAlBD,gDAkBC","sourcesContent":["import * as datasourceGradleVersion from '../../datasource/gradle-version';\nimport { logger } from '../../logger';\nimport * as gradleVersioning from '../../versioning/gradle';\nimport { PackageDependency, PackageFile } from '../common';\n\nconst DISTRIBUTION_URL_REGEX = /^(?<assignment>distributionUrl\\s*=\\s*)\\S*-(?<version>(\\d|\\.)+)-(?<type>bin|all)\\.zip\\s*$/;\n\nexport function extractPackageFile(fileContent: string): PackageFile | null {\n  logger.debug('gradle-wrapper.extractPackageFile()');\n  const lines = fileContent.split('\\n');\n\n  for (const line of lines) {\n    const distributionUrlMatch = DISTRIBUTION_URL_REGEX.exec(line);\n    if (distributionUrlMatch) {\n      const dependency: PackageDependency = {\n        depName: 'gradle',\n        currentValue: distributionUrlMatch.groups.version,\n        datasource: datasourceGradleVersion.id,\n        versioning: gradleVersioning.id,\n      };\n      logger.debug(dependency, 'Gradle Wrapper');\n      return { deps: [dependency] };\n    }\n  }\n  return null;\n}\n"]}